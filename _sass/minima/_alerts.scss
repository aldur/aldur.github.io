// Originally based on:
// https://www.seanh.cc/jekyll-theme-oatcake/2019/09/09/alert-boxes/

:root {
  --alert-boxes-border-radius: 0.25rem;
  --alert-boxes-padding: 8px 12px;
  --alert-boxes-margin-bottom: 12px;
  --code-border-radius: 3px;
  --link-visited-darken-amount: 15%;
  --code-bg-darken-amount: 5%;
  --code-border-darken-amount: 10%;
}

/*
 * =================================================================================
 * Base Structure
 * =================================================================================
 */

.admonition,
.warning,
.hint,
.note,
.seealso,
.todo {
  /* Base styles */
  border: 1px solid var(--alert-boxes-border);
  border-radius: var(--alert-boxes-border-radius);
  padding: var(--alert-boxes-padding);
  margin-bottom: var(--alert-boxes-margin-bottom);
  background-color: var(--alert-boxes-bg);
  color: var(--alert-boxes-text);
}

/* Remove bottom margin from the last element */
.admonition > *:last-child,
.warning > *:last-child,
.hint > *:last-child,
.note > *:last-child,
.seealso > *:last-child,
.todo > *:last-child {
  margin-bottom: 0;
}

/*
 * =================================================================================
 * Color Theme Definitions
 * =================================================================================
 */

.admonition {
  --alert-boxes-bg: #d6d8d9;
  --alert-boxes-border: #c6c8ca;
  --alert-boxes-text: #1b1e21;
  --alert-boxes-link: #040505;
}

.warning {
  --alert-boxes-bg: #f8d7da;
  --alert-boxes-border: #f5c6cb;
  --alert-boxes-text: #721c24;
  --alert-boxes-link: #491217;
}

.hint {
  --alert-boxes-bg: #d1ecf1;
  --alert-boxes-border: #bee5eb;
  --alert-boxes-text: #0c5460;
  --alert-boxes-link: #062c33;
}

.note {
  --alert-boxes-bg: #e2e3e5;
  --alert-boxes-border: #d6d8db;
  --alert-boxes-text: #383d41;
  --alert-boxes-link: #202326;
}

.todo {
  --alert-boxes-bg: #cce5ff;
  --alert-boxes-border: #b8daff;
  --alert-boxes-text: #004085;
  --alert-boxes-link: #002752;
}

.seealso {
  --alert-boxes-bg: #fff3cd;
  --alert-boxes-border: #ffeeba;
  --alert-boxes-text: #856404;
  --alert-boxes-link: #533f03;
}

/*
 * =================================================================================
 * Link Styling
 * =================================================================================
 */

.admonition a,
.warning a,
.hint a,
.note a,
.seealso a,
.todo a {
  color: var(--alert-boxes-link);
}

/* Visited links are darkened using the inherited link color */
.admonition a:visited,
.warning a:visited,
.hint a:visited,
.note a:visited,
.seealso a:visited,
.todo a:visited {
  color: color-mix(in srgb, var(--alert-boxes-link), black var(--link-visited-darken-amount));
}

/*
 * =================================================================================
 * Code Block Styling
 * =================================================================================
 */

.admonition code,
.warning code,
.hint code,
.note code,
.seealso code,
.todo code,
.admonition .highlight,
.warning .highlight,
.hint .highlight,
.note .highlight,
.seealso .highlight,
.todo .highlight
{
  color: inherit;
  border-radius: var(--code-border-radius);
  background-color: color-mix(in srgb, var(--alert-boxes-bg), black var(--code-bg-darken-amount));
}

.admonition div.highlight,
.warning div.highlight,
.hint div.highlight,
.note div.highlight,
.seealso div.highlight,
.todo div.highlight,
.admonition code.highlighter-rouge,
.warning code.highlighter-rouge,
.hint code.highlighter-rouge,
.note code.highlighter-rouge,
.seealso code.highlighter-rouge,
.todo code.highlighter-rouge {
  border: 1px solid color-mix(in srgb, var(--alert-boxes-bg), black var(--code-border-darken-amount));
}
